<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso Restrito | K-Corp Internal Network</title>
    <link rel="stylesheet" href="css/login.css">
</head>
<body>
    <div class="container">
        <div class="login-header">
            <div class="logo">
                <div class="logo-img pulse">K</div>
                <div class="logo-text">
                    <h1>K-Corp Internal</h1>
                    <p>Corpora√ß√£o do C√°lice - Acesso Restrito</p>
                </div>
            </div>
        </div>
        
        <div class="login-card">
            <h2 class="login-title">Autentica√ß√£o Requerida</h2>
            
            <form id="login-form">
                <div class="form-group">
                    <label for="username">ID de Funcion√°rio</label>
                    <input type="text" id="username" class="form-control" placeholder="Ex: K-JL-777" required>
                    <div class="error-message" id="username-error">ID de funcion√°rio inv√°lido</div>
                </div>
                
                <div class="form-group">
                    <label for="password">Senha de Acesso</label>
                    <div class="password-container">
                        <input type="password" id="password" class="form-control" placeholder="Digite sua senha" required>
                        <button type="button" class="toggle-password" id="toggle-password">üëÅÔ∏è</button>
                    </div>
                    <div class="error-message" id="password-error">Senha incorreta</div>
                </div>
                
                <div class="form-group">
                    <label for="department">Departamento</label>
                    <select id="department" class="form-control" required>
                        <option value="">Selecione seu departamento</option>
                        <option value="research">Pesquisa e Desenvolvimento</option>
                        <option value="field">Opera√ß√µes de Campo</option>
                        <option value="admin">Administra√ß√£o</option>
                    </select>
                    <div class="department-error" id="department-error">Departamento incorreto para este usu√°rio</div>
                </div>
                
                <button type="submit" class="btn">Acessar Portal</button>
                
                <div class="security-notice">
                    <strong>Aviso de Seguran√ßa:</strong> Este sistema cont√©m informa√ß√µes confidenciais da K-Corp. Acesso n√£o autorizado √© estritamente proibido e sujeito a a√ß√µes legais.
                </div>
            </form>
            
            <div class="login-links">
                <a href="#">Problemas com acesso?</a>
                <a href="#">Contatar Administrador</a>
            </div>
        </div>
        
        <div class="login-footer">
            <p>K-Corp Internal Network v3.4.1 | Sistema de Autentica√ß√£o Segura</p>
            <p>Todo acesso √© monitorado e registrado para fins de seguran√ßa.</p>
        </div>
    </div>

    <script>
        // Sistema de usu√°rios pr√©-cadastrados
        const KCorpUsers = {
            // Base de dados de usu√°rios
            users: {
                'K-GM-001': {
                    username: 'K-GM-001',
                    password: 'Mudar@123',
                    fullname: 'Game Master',
                    department: 'admin',
                    position: 'Administrador do Sistema',
                    email: 'gm@kcorp.net'
                },
                'K-JL-777': {
                    username: 'K-JL-777',
                    password: 'Mudar@123',
                    fullname: 'Jos√© Lin',
                    department: 'research',
                    position: 'M√©dico de Campo S√™nior | Pesquisador N√≠vel 1',
                    email: 'jl@kcorp.net'
                },
                'K-KK-5280': {
                    username: 'K-KK-5280',
                    password: 'Mudar@123',
                    fullname: 'Kuuhaku',
                    department: 'field',
                    position: 'Agente de Campo Especial | N√≠vel 1',
                    email: 'kuuhaku@kcorp.net'
                },
                'K-SC-6194': {
                    username: 'K-SC-6194',
                    password: 'Mudar@123',
                    fullname: 'Scar',
                    department: 'field',
                    position: 'Especialista em Seguran√ßa | N√≠vel 1',
                    email: 'scar@kcorp.net'
                },
                'K-HS-3257': {
                    username: 'K-HS-3257',
                    password: 'Mudar@123',
                    fullname: 'Hanssen',
                    department: 'field',
                    position: 'Pesquisador S√™nior | N√≠vel 1',
                    email: 'hanssen@kcorp.net'
                }
            },
            
            // Verifica as credenciais de login
            verifyLogin: function(username, password, selectedDepartment) {
                const user = this.users[username];
                if (user && user.password === password) {
                    // Verifica se o departamento selecionado est√° correto
                    if (user.department === selectedDepartment) {
                        return user;
                    }
                }
                return null;
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('login-form');
            const togglePassword = document.getElementById('toggle-password');
            const passwordInput = document.getElementById('password');
            const usernameError = document.getElementById('username-error');
            const passwordError = document.getElementById('password-error');
            const departmentError = document.getElementById('department-error');
            
            // Alternar visibilidade da senha
            togglePassword.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üîí';
            });
            
            // Valida√ß√£o do formul√°rio
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value;
                const department = document.getElementById('department').value;
                
                // Reset dos erros
                usernameError.style.display = 'none';
                passwordError.style.display = 'none';
                departmentError.style.display = 'none';
                
                let isValid = true;
                
                // Valida√ß√£o b√°sica
                if (!username || username.length < 3) {
                    usernameError.style.display = 'block';
                    isValid = false;
                }
                
                if (!password || password.length < 6) {
                    passwordError.style.display = 'block';
                    isValid = false;
                }
                
                if (!department) {
                    alert('Por favor, selecione seu departamento.');
                    isValid = false;
                }
                
                // Verifica as credenciais no sistema
                if (isValid) {
                    const user = KCorpUsers.verifyLogin(username, password, department);
                    
                    if (user) {
                        // Salva o usu√°rio no localStorage
                        localStorage.setItem('kcorp_current_user', JSON.stringify(user));
                        
                        // Simula um processo de autentica√ß√£o
                        const btn = this.querySelector('.btn');
                        btn.textContent = 'Autenticando...';
                        btn.disabled = true;
                        
                        setTimeout(function() {
                            // Redireciona para a p√°gina principal
                            window.location.href = 'HomeKweb.html';
                        }, 1500);
                    } else {
                        // Verifica qual erro espec√≠fico ocorreu
                        const userExists = KCorpUsers.users[username];
                        if (userExists) {
                            if (userExists.password !== password) {
                                passwordError.style.display = 'block';
                                passwordError.textContent = 'Senha incorreta.';
                            } else {
                                departmentError.style.display = 'block';
                                departmentError.textContent = 'Departamento incorreto para este usu√°rio.';
                            }
                        } else {
                            usernameError.style.display = 'block';
                            usernameError.textContent = 'ID de funcion√°rio n√£o encontrado.';
                        }
                    }
                }
            });
            
            // Efeito de foco nos campos
            const inputs = document.querySelectorAll('.form-control');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('focused');
                });
            });
        });
    </script>
</body>
</html>